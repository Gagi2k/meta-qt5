From bd4aa906131a38131b08fd4c467acbc73c52c4aa Mon Sep 17 00:00:00 2001
From: Paul Eggleton <paul.eggleton@linux.intel.com>
Date: Wed, 26 Sep 2012 20:47:08 +0200
Subject: [PATCH 4/4] configure: eval QMAKE_CXX

Allow expansion of $(...) references in QMAKE_CXX (currently its value
is $(OE_QMAKE_CXX)) in order to allow compiler version check to succeed
which allows WebKit to be enabled.

Upstream-Status: Pending

Signed-off-by: Paul Eggleton <paul.eggleton@linux.intel.com>
Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 configure | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/configure b/configure
index 1f6bdf6..e67c1e5 100755
--- a/configure
+++ b/configure
@@ -2824,7 +2824,9 @@ if [ "$BUILD_ON_MAC" = "yes" ] && [ "$CFG_QGTKSTYLE" = "auto" ]; then
     CFG_QGTKSTYLE=no
 fi
 
-QMAKE_CONF_COMPILER=`getXQMakeConf QMAKE_CXX`
+QMAKE_CONF_COMPILER=`getXQMakeConf QMAKE_CXX | sed -n 's/$[(]\([0-9a-zA-Z_]*\)[)]/$\1/pg'`
+QMAKE_CONF_COMPILER=`eval "echo $QMAKE_CONF_COMPILER"`
+
 
 TEST_COMPILER=$QMAKE_CONF_COMPILER
 
-- 
1.8.1.5

